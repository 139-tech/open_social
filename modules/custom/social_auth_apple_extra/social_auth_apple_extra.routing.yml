social_auth_apple.user_login:
  path: '/user/login/apple'
  defaults:
    _controller: '\Drupal\social_auth_apple\Controller\AppleAuthController::redirectToProvider'
  requirements:
    _role: 'anonymous'
  options:
    no_cache: TRUE

social_auth_apple.user_register:
  path: '/user/register/apple'
  defaults:
    _controller: '\Drupal\social_auth_apple_extra\Controller\AppleAuthExtraController::userRegister'
  requirements:
    _role: 'anonymous'
  options:
    no_cache: TRUE

social_auth_apple.user_link:
  path: '/social-api/link/apple'
  defaults:
    _controller: '\Drupal\social_auth_apple_extra\Controller\AppleAuthExtraController::linkAccount'
  requirements:
    _role: 'authenticated'
  options:
    no_cache: TRUE

social_auth_apple_extra.user_link_callback:
  path: '/social-api/link/apple/callback'
  defaults:
    _controller: '\Drupal\social_auth_apple_extra\Controller\AppleAuthExtraController::linkAccountCallback'
  requirements:
    _access: 'TRUE'
  options:
    no_cache: TRUE

social_auth_apple.user_unlink:
  path: '/social-api/unlink/apple'
  defaults:
    _title: 'Unlink Apple'
    _form: '\Drupal\social_auth_extra\Form\AuthUnlinkForm'
    network: 'apple'
  requirements:
    _role: 'authenticated'
