{% extends "node--teaser.html.twig" %}

{% block card_body %}

  {% if display_submitted %}
    {% embed "node--teaser__field.html.twig" %}
      {%- block field_icon -%} account_circle {%- endblock -%}
      {%- block field_value %}
        <div class="teaser__published">
          <div class="teaser__published-date"> {{ date }} &bullet; </div>
          <div class="teaser__published-author"> {{ author_name }} </div>
        </div>
      {%- endblock -%}
    {% endembed %}
  {% endif %}

  {% if content.field_event_location|render is not empty %}
    {% embed "node--teaser__field.html.twig" %}
      {%- block field_icon -%} location {%- endblock -%}
      {%- block field_value -%} {{ content.field_event_location }} {%- endblock -%}
    {% endembed %}
  {% endif %}

  {% if content.group_name %}
    {% embed "node--teaser__field.html.twig" %}
      {%- block field_icon -%} group {%- endblock -%}
      {%- block field_value -%} {{ content.group_name }} {%- endblock -%}
    {% endembed %}
  {% endif %}

  {% embed "node--teaser__body.html.twig" %}
    {% block field_body %} {{ content.body }} {% endblock %}
  {% endembed %}

{% endblock %}

{% block card_actionbar %}

  <div class="teaser__tag">
    {% if event_type %}
      {{ event_type }}
    {% elseif topic_type %}
      {{ topic_type }}
    {% else %}
      {{ node.type.entity.label() }}
    {% endif %}
  </div>

  {% if comment_count %}
    <a href="{{ url }}#section-comments" class="badge teaser__badge" title="{% trans %}Total amount of comments{% endtrans %}">
      <span class="badge__container">
        <svg class="badge__icon">
          <use xlink:href="#icon-comment"></use>
        </svg>
        <span class="badge__label">{{ comment_count }}</span>
      </span>
    </a>
  {% endif %}

  {% if likes_count is not empty %}
    <div class="badge teaser__badge" title="{% trans %}Total amount of likes{% endtrans %}">
      <span class="badge__container">
        <svg class="badge__icon">
          <use xlink:href="#icon-like"></use>
        </svg>
        <span class="badge__label">
          {{ likes_count }}
        </span>
      </span>
    </div>
  {% endif %}

  {% if content.enrolled %}
    <span class="badge badge-secondary teaser__badge">
      {%- trans -%} You have enrolled {%- endtrans -%}
    </span>
  {% endif %}

  {{ content.links }}

{% endblock %}
